WEB POSTMORTEM <br><hr><hr>
<b>Summary<b><br>
This is a postmortem documentation of an outage I faced in 2023 around December 3rd from a website I had personally developed and hosted for my client as a Software Engineer. Initially before noting this outage, the client was requesting me to check if the emailing was working properly as some subscribers were not able to receive full emails as subscribers. The backend language for the website was PHP and MongoDB. The PHP Mailer had an issue. This is described further in the section below including the root cause and resolution with the corrective and preventative measures I took to recover this. 
<hr><b>Issue</b> <br>
From November 16th 2023, I was receiving messages from my client about a website I developed and hosted for back in August of the same year. The issue he was addressing was that the website’s subscribers to new blog content and other services were not reaching his customers. I had to immediately check the codes in the web hosting, but there was nothing strange that would cause this. So I hesitated for a week. Then I received the same request from my client that he is now facing a challenge with the website and that he is losing his clients and the job of the website is going down rapidly. This gave me a nightmare. I had to review the website’s files with keenness to see this. Unluckily, I could not see any problems again. So I had to put my email as one of the subscribers and try to email myself from the admin front-end side. Nothing was wrong, I received the email. So I had to wait for a moment and think about other sources that might have caused this error.<hr>
<b>Monitoring Alert</b><br>
I had to add an on-call. This is a monitoring tool and the PagerDuty. With this, I was trying to make a gateway linked to the monitoring tool to check if the website and emailing returns HTTP 200? Is the website and the mailer loading in less than 500ms? Is the daemon up? Is there more than 50% disk space free on the server used? In general this will detect any anomaly in the entire running of the system. I had to make PagerDuty linked with my messaging app on my phone so that I may get a notification of anything strange running detected by the monitoring tool I used. So I was the engineer on-call 
After about an hour after adding the monitoring tool and the PagerDuty, I received a message. Around 1700HRS EAT. There was an issue with the setup on the PHP mailer and the file with the website's email and password; ‘send_mail.php.’ I had to check this right away. What!?? I found out that one of the files cloned from the official PHPMailer GitHub repository was a reference to another file ‘mail_index.php’ which I had initially changed due to security and privacy issues. So after every one email sent to a subscriber the second email would fail. Sounds strange, right? Let me blend this. After an email would be sent from the send_mail.php the first, on the second email it would fail, this is because there was nothing to support sending any further, this was the main issue, and just a file name caused chaos with the client all day every day. I was the most relieved man after fixing this and saving the file back. Woow! The emailing works fine up to date!<hr><br>
Courtesy: [https://twitter.com/devopsreact/status/834887829486399488] 

https://gitmind.com/app/docs/f6vdrdcd
https://miro.medium.com/v2/resize:fit:720/format:webp/1*Z99G2DnG7RY4juDcsqRPIA.jpeg

BY: BRYAN ASEGA | Asega-bryan07
22/01/2024
